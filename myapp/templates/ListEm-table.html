{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <style>
    * {
      box-sizing: border-box;
    }

    #myInput {
      width: 50%;
      font-size: 16px;
      border: 1px solid #ddd;
      padding-left: 20px;
    }

    #myTable {
      width: 100%;
    }

    #myTable th,
    #myTable td {}

    #myTable tr {}

    #myTable tr.header,
    #myTable tr:hover {}
  </style>
  <!--style-->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <!--fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
  <link rel="icon" href="img/tab_logo.png">
  <!----->

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/sidebars/">



    <!-- Bootstrap core CSS -->
    <link href="/docs/5.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/5.0/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/5.0/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
    <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon.ico">
    <meta name="theme-color" content="#7952b3">


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      .icon-bar {
        width: 25px;
        height: 25px;
      }

      .menu-bar {
        width: 30px;
        height: 30px;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>


    <!-- Custom styles for this template -->
    <link href="sidebars.css" rel="stylesheet">
  </head>
  <title>Computer vision for restuarant | List of employees</title>
</head>

<body class="full-height">


  <!-- Image and text -->
  <nav class="navbar navbar-bg py-4">
    <a class="navbar-brand mx-3" href="{% url 'menu' %}">
      <div class="font-nav">
        <img src="{% static 'img/eye1.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
        <b>Computer vision for restaurant</b>
      </div>
    </a>
    <!--<div class="mx-3">
      <a href="login" class="font-log op-butt align-top">
        <b>Logout</b>
      </a>
      <b style="color: white;">|</b>
      <b style="color: white;">Firstname Surname</b>
    </div>-->
  </nav>

  <div class="container-fluid full-height">
    <div class="row full-height">
      <div class="col-md-3 bg-light full-height">

        <div class="d-flex flex-column py-3 full-height">

          <a href="{% url 'menu' %}"
            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
            <img src="{% static 'img/menu.png' %}" class="menu-bar me-2" alt="">
            <span class="fs-4 align-items-center"><b>Menu</b></span>
          </a>

          <hr>

          <ul class="nav nav-pills flex-column mb-auto">

            <li class="list-hov">
              <a href="/menu/CustTable/" class="nav-link link-dark py-3" style="width: 100%; height: 100%;">
                <img src="/static/img/dinner2.png" class="icon-bar" alt="">
                Customers Events
              </a>
            </li>
            <li class="list-hov">
              <a href="/menu/SusTable/" class="nav-link link-dark py-3" style="width: 100%; height: 100%;">
                <img src="/static/img/loupe1.png" class="icon-bar me-2" alt="">
                Suspicious Events
              </a>
            </li>
            <li class="list-hov">
              <a href="/menu/ResTable/" class="nav-link link-dark py-3" style="width: 100%; height: 100%;">
                <img src="/static/img/check1.png" class="icon-bar me-2" alt="">
                Resolved Events
              </a>
            </li>
            <li class="nav-item list-butt">
              <a href="/menu/ListTable/" class="nav-link link-dark py-3" style="width: 100%; height: 100%;">
                <img src="/static/img/id1.png" class="icon-bar me-2" alt="">
                List of employees
              </a>
            </li>
            </li>
            <li class="list-hov">
              <a href="/menu/Dashboard" class="nav-link link-dark py-3" style="width: 100%; height: 100%;">
                <img src="/static/img/graph1.png" class="icon-bar me-2" alt="">
                Dashboard
              </a>
            </li>

          </ul>

        </div>
      </div>
    
      <div class="col-md-9 full-height">

        <input type="text" class="mt-3 mb-2" style="border-radius: 50px; height: 38px;" id="myInput" onkeyup="myFunction()" placeholder="Search">
        <br><a href="/menu/ListTable/AddEM/" style="text-decoration: none;">
          <button type="button" style="border-radius: 50px; background-color: rgb(141, 172, 166); border-color: rgb(141, 172, 166);" class="btn btn-dark">
            Add employee
          </button>
        </a>

        <div class="card mt-2 align-items-center" style="width: 920px; height: 400px;">
            <div class="card-body text-center">
                <div style="max-height: 350px; overflow-y: auto; ">
                    <table class="table table-hover text-nowrap mx-3" id="myTable" style="width: 850px;">
                        <thead>
                            <tr>
                                <th scope="col" style="width: 20%">Employee ID</th>
                                <th scope="col" style="width: 20%">Firstname</th>
                                <th scope="col" style="width: 20%">Lastname</th>
                                <th scope="col" style="width: 20%">Edit</th>
                                <th scope="col" style="width: 20%">Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for employee_table in employee_table %}
                            <tr>
                                <td>{{ employee_table.employee_id }}</td>
                                <td>{{ employee_table.employee_name }}</td>
                                <td>{{ employee_table.employee_sname }}</td>
                                <td><a href="/menu/ListTable/EditEm/{{ employee_table.employee_id }}" class="link-d">Edit</a></td>
                                <td>

                                  <form id="deleteForm{{ employee_table.employee_id }}" action="{% url 'delete_employee' employee_table.employee_id %}" method="post">
                                    {% csrf_token %}
                                    <button type="button" onclick="confirmDelete({{ employee_table.employee_id }})" style="border-radius: 50px; background-color: rgb(197, 97, 97); border-color: rgb(197, 97, 97);" class="btn btn-dark">
                                        Delete
                                    </button>
                                  </form>

                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
  function myFunction() {
    var input, filter, table, tr, td, i, j, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      // Loop through all columns except the last one (Action/Resolve column)
      for (j = 0; j < tr[i].getElementsByTagName("td").length - 1; j++) {
        td = tr[i].getElementsByTagName("td")[j];
        if (td) {
          txtValue = td.textContent || td.innerText;
          // If any column contains the search query, display the row; otherwise, hide it
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
            break; // Break the loop if any column matches
          } else {
            tr[i].style.display = "none";
          }
        }       
      }
    }
  }
</script>
<script>
  function confirmDelete(employeeId) {
      if (confirm("Are you sure you want to delete this employee?")) {
          document.getElementById("deleteForm" + employeeId).submit();
      }
  }
</script>
</div>
</body>
</html>